The Netlify deploy errored, with the following guidance provided:

Isolation of relevant log lines
- The deploy error is shown at [line 91](#L91): "Deploy did not succeed: Deploy directory 'dist/public' does not exist".
- Netlify's resolved build config (build command and publish dir) is shown at [lines 95â€“98](#L95-L98).
- The build exited nonâ€‘zero which caused the deploy to fail at [line 105](#L105).

Diagnosis â€” error type and cause
- Error type: Missing publish directory (deploy-time configuration mismatch).
- Cause: Netlify is configured to publish /opt/build/repo/dist/public (command: npx vite build --outDir dist/public), but the build did not produce that folder. Either:
  - Vite built into a different directory (most likely the default dist), or
  - The build command failed (nonâ€‘zero exit) so no output folder was produced.

How to fix
1) Verify local build output and repo config
   - Run the build locally to see where Vite writes files:
     - If you use npm scripts: npm run build
     - Or run: npx vite build
   - After running, confirm which folder is created (dist or dist/public). If you see dist (not dist/public), that explains the missing folder.
   - Verify your package.json build script and any vite config that sets outDir:
     - package.json in your repo: https://github.com/ajlim02/menu-recommendation/blob/main/package.json

2) Choose one of these consistent fixes and apply it:

Option A â€” keep Vite's default output (dist) and update Netlify to publish that folder (recommended)
   - Update Netlify build settings (in Netlify UI or netlify.toml) so the publish directory is dist and the build command is a normal script:
     - In Netlify UI: Settings â†’ Build & deploy â†’ Build settings:
       - Build command: npm run build
       - Publish directory: dist
     - Or add/update netlify.toml at repo root:
```toml
[build]
  command = "npm run build"
  publish = "dist"
```
   - Commit and push, then redeploy.

Option B â€” make Vite output exactly to dist/public (if you intentionally want that path)
   - Ensure your package.json or vite config specifies outDir dist/public, then run build locally to confirm dist/public is created.
   - Example: update package.json build script:
```json
{
  "scripts": {
    "build": "vite build --outDir dist/public"
  }
}
```
   - Or set outDir in vite.config.js/ts:
```js
// vite.config.js
export default {
  build: {
    outDir: "dist/public"
  }
}
```
   - Commit those changes and redeploy. Also verify Netlify build command/publish directory remain:
     - Build command: npm run build (or npx vite build --outDir dist/public)
     - Publish: dist/public

3) If the build still fails with a nonâ€‘zero exit
   - Inspect full build logs earlier than the deployment step to find the compilation error and fix that issue first (typical causes: missing dependencies, TypeScript errors, or broken imports).
   - Re-run npm run build locally to reproduce and fix errors.

Notes
- Always verify the build output folder exists after running the build locally before triggering a Netlify deploy.
- You can link to your package.json to confirm the current script: https://github.com/ajlim02/menu-recommendation/blob/main/package.json

Relevant log pointers
- Error message: [line 91](#L91)
- Netlify resolved build command & publish path: [lines 95â€“98](#L95-L98)
- Build exited nonâ€‘zero: [line 105](#L105)

The relevant error logs are:

Line 0: build-image version: 3d6cd4262a329a2e0be8228997f7cf70a89dc864 (noble-new-builds)
Line 1: buildbot version: 3d6cd4262a329a2e0be8228997f7cf70a89dc864
Line 2: Fetching cached dependencies
Line 3: Failed to fetch cache, continuing with build
Line 4: Starting to prepare the repo for build
Line 5: No cached dependencies found. Cloning fresh repo
Line 6: git clone --filter=blob:none https://github.com/ajlim02/menu-recommendation
Line 7: Preparing Git Reference refs/heads/main
Line 8: Starting to install dependencies
Line 9: mise [36m~/.config/mise/config.toml[0m tools: [34mpython[0m@3.14.2
Line 10: mise [36m~/.config/mise/config.toml[0m tools: [34mruby[0m@3.4.8
Line 11: mise [36m~/.config/mise/config.toml[0m tools: [34mgo[0m@1.25.5
Line 12: v22.22.0 is already installed.
Line 13: Now using node v22.22.0 (npm v10.9.4)
Line 77:  - api.ts
Line 78: â€‹
Line 79: â€‹
Line 80: [90m(Functions bundling completed in 163ms)[39m
Line 81: [96m[1mâ€‹[22m[39m
Line 82: [96m[1mDeploy site                                                   [22m[39m
Line 83: [96m[1mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[22m[39m
Line 84: â€‹
Line 85: Section completed: deploying
Line 86: [91m[1mâ€‹[22m[39m
Line 87: [91m[1mConfiguration error                                           [22m[39m
Line 88: [91m[1mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[22m[39m
Line 89: â€‹
Line 90:   [31m[1mError message[22m[39m
Line 91:   Deploy did not succeed: Deploy directory 'dist/public' does not exist
Line 92: â€‹
Line 93:   [31m[1mResolved config[22m[39m
Line 94:   build:
Line 95:     command: npx vite build --outDir dist/public
Line 96:     commandOrigin: config
Line 97:     publish: /opt/build/repo/dist/public
Line 98:     publishOrigin: config
Line 99:   functions:
Line 100:     "*":
Line 101:       node_bundler: esbuild
Line 102:   functionsDirectory: /opt/build/repo/netlify/functions
Line 103:   redirects:
Line 104:     - from: /api/*
      status: 200
      to: /.netlify/functions/api/:splat
    - from: /*
      status: 200
      to: /index.
Line 105: Build failed due to a user error: Build script returned non-zero exit code: 2
Line 106: Failed during stage 'building site': Build script returned non-zero exit code: 2
Line 107: Failing build: Failed to build site
Line 108: Finished processing build request in 18.647s